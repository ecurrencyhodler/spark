-- Create "utxo_swaps" table
CREATE TABLE "utxo_swaps" ("id" uuid NOT NULL, "create_time" timestamptz NOT NULL, "update_time" timestamptz NOT NULL, "status" character varying NOT NULL, "request_type" character varying NOT NULL, "credit_amount_sats" bigint NULL, "max_fee_sats" bigint NULL, "ssp_signature" bytea NULL, "ssp_identity_public_key" bytea NULL, "user_signature" bytea NULL, "user_identity_public_key" bytea NULL, "deposit_address_utxoswaps" uuid NULL, "utxo_swap_utxo" uuid NOT NULL, "utxo_swap_transfer" uuid NULL, PRIMARY KEY ("id"), CONSTRAINT "utxo_swaps_deposit_addresses_utxoswaps" FOREIGN KEY ("deposit_address_utxoswaps") REFERENCES "deposit_addresses" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, CONSTRAINT "utxo_swaps_transfers_transfer" FOREIGN KEY ("utxo_swap_transfer") REFERENCES "transfers" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, CONSTRAINT "utxo_swaps_utxos_utxo" FOREIGN KEY ("utxo_swap_utxo") REFERENCES "utxos" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
-- Create index "utxoswap_utxo_swap_utxo" to table: "utxo_swaps"
CREATE UNIQUE INDEX "utxoswap_utxo_swap_utxo" ON "utxo_swaps" ("utxo_swap_utxo");
